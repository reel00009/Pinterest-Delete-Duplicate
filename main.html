<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="stylesheet" href="main.css">
  <title>Pinterest Delete Diplicates</title>
  <script type="text/javascript" src="pinterest.js"></script>
</head>
<body class="main">
  <script src="pinterest.js">
    function pinterest() {
      // Initialize Pinterest JavaScript SDK
      window.pAsyncInit = function() {
          PDK.init({
              appId: "4976224077197881480",
              cookie: true
          });
      };

      (function(d, s, id){
          var js, pjs = d.getElementsByTagName(s)[0];
          if (d.getElementById(id)) {return;}
          js = d.createElement(s); js.id = id;
          js.src = "//assets.pinterest.com/sdk/sdk.js";
          pjs.parentNode.insertBefore(js, pjs);
      }(document, 'script', 'pinterest-jssdk'));

      // Function to log into user's Pinterest
      // function login() {
        PDK.login({ scope : 'write_public, read_public' }, function(response) {
          console.log(response); //TEST TO SEE STATUS
          // Display the status of their login
          if (response.error || !response) {
            document.getElementById('show').innerHTML = 'You are not connected. Please try again.';
          } else {
            document.getElementById('show').innerHTML = 'You are connected! We will now be deleting duplicate pins.';
            // Get board information
            var pins = [];
            var board_id='Techies'; // TEMP BOARD
            PDK.request('/boards/'+board_id+'/pins/', function (response) {
                if (!response || response.error) {
                alert('Error occurred');
                } else {
                pins = pins.concat(response.data);
                    if (response.hasNext) {
                    response.next();
                    }
                }
            });
            document.getElementById('show').innerHTML = pins;
            // Look for duplicate pins & delete
            // getPins(data, response);
            // findDupPins(data);
          }
        });
      }
      

      // Confirmation message that pins are deleted
      // alert("Pins are now deleted. Check your Pinterest and keep up the pinning!");
  </script>
  <center><div id="show"></div></center>
  <button onclick="pinterest()" class="btn">Log Into Pinterest</button>

</body>

</html>
